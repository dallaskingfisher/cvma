(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{3083:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/members",function(){return n(5018)}])},5018:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return A},default:function(){return D}});var r=n(5893),a=n(4051),o=n.n(a),s=n(4749),l=n(7294),i=n(8699),c=n.n(i);function u(e,t,n,r,a,o,s){try{var l=e[o](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){u(o,r,a,s,l,"next",e)}function l(e){u(o,r,a,s,l,"throw",e)}s(void 0)}))}}var m=function(){var e=function(){document.getElementById("uploadForm").reset()},t=(0,s.dy)(),n=t.FileInput,a=t.openFileDialog,i=t.uploadToS3,u=(0,l.useState)(),m=u[0],h=u[1],p=(0,l.useState)(!1),f=p[0],x=p[1],b=(0,l.useState)(),j=b[0],v=b[1],_=(0,l.useState)(!1),N=_[0],y=_[1];(0,l.useEffect)((function(){x(!1);var e=setTimeout((function(){return h(null)}),2e3);return function(){return clearTimeout(e)}}),[f]),(0,l.useEffect)((function(){y(!1);var e=setTimeout((function(){return v(null)}),1e4);return function(){return clearTimeout(e)}}),[N]);var g=function(){var e=d(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:n=e.sent.url,h(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(0,l.useRef)(),U=(0,l.useRef)(),k=(0,l.useRef)(),C=(0,l.useRef)();function S(){return(S=d(o().mark((function t(n){var r,a,s,l,i,c,u,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=R.current.value,a=U.current.value,s=k.current.value,l=C.current.value,null!==(i=m)){t.next=12;break}return v("File not loaded"),y(!0),t.abrupt("return");case 12:return c={category:r,month:a,year:s,title:l,location:i},t.next=15,fetch("/api/document/upload",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 15:return u=t.sent,t.next=18,u.json();case 18:d=t.sent,e(),console.log(c),v(d.message),y(!0),x(!0);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsxs)("section",{className:c().background,children:[(0,r.jsx)("h1",{children:"Upload"}),(0,r.jsx)("h5",{children:j}),(0,r.jsx)(n,{onChange:g}),(0,r.jsx)("button",{onClick:a,className:c().button,children:"Upload"}),(0,r.jsxs)("form",{onSubmit:function(e){return S.apply(this,arguments)},id:"uploadForm",children:[(0,r.jsx)("div",{className:c().control,children:(0,r.jsxs)("select",{id:"fileTypes",ref:R,children:[(0,r.jsx)("option",{value:"meetingMinutes",children:"Meeting Minutes"}),(0,r.jsx)("option",{value:"cebMinutes",children:"CEB Minutes"}),(0,r.jsx)("option",{value:"roadCaptain",children:"Road Captains"})]})}),(0,r.jsx)("div",{className:c().control,children:(0,r.jsxs)("select",{id:"month",ref:U,children:[(0,r.jsx)("option",{value:"jan",children:"January"}),(0,r.jsx)("option",{value:"feb",children:"Febuary"}),(0,r.jsx)("option",{value:"mar",children:"March"}),(0,r.jsx)("option",{value:"apr",children:"April"}),(0,r.jsx)("option",{value:"may",children:"May"}),(0,r.jsx)("option",{value:"jun",children:"June"}),(0,r.jsx)("option",{value:"jul",children:"July"}),(0,r.jsx)("option",{value:"aug",children:"August"}),(0,r.jsx)("option",{value:"sep",children:"September"}),(0,r.jsx)("option",{value:"oct",children:"October"}),(0,r.jsx)("option",{value:"nov",children:"November"}),(0,r.jsx)("option",{value:"dec",children:"December"})]})}),(0,r.jsxs)("div",{className:c().control,children:[" ",(0,r.jsx)("input",{type:"text",placeholder:"Year",id:"year",ref:k,required:!0})]}),(0,r.jsx)("div",{className:c().control,children:(0,r.jsx)("input",{type:"text",placeholder:"File Name",id:"fileName",ref:C,required:!0})}),(0,r.jsx)("div",{}),(0,r.jsx)("button",{id:"submit",className:c().button,children:"Submit"})]}),(0,r.jsx)("p",{children:m})]})},h=n(713),p=n.n(h);function f(e,t,n,r,a,o,s){try{var l=e[o](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){f(o,r,a,s,l,"next",e)}function l(e){f(o,r,a,s,l,"throw",e)}s(void 0)}))}}var b=function(e){var t=(0,l.useState)(),n=t[0],a=t[1],s=(0,l.useState)(!1),i=s[0],c=s[1];(0,l.useEffect)((function(){c(!1);var e=setTimeout((function(){return a(null)}),1e4);return function(){return clearTimeout(e)}}),[i]);var u=e.user.firstName,d=e.user.lastName,m=e.user.cellPhone,h=e.user.homePhone,f=e.user.address,b=e.user.city,j=e.user.state,v=e.user.zip,_=e.user.roadName,N=e.user.iceName,y=e.user.iceNumber,g=e.user.email,R=e.user.memberId,U=(0,l.useRef)(),k=(0,l.useRef)(),C=(0,l.useRef)(),S=(0,l.useRef)(),P=(0,l.useRef)(),w=(0,l.useRef)(),F=(0,l.useRef)(),M=(0,l.useRef)(),E=(0,l.useRef)(),I=(0,l.useRef)(),T=function(){document.getElementById("memberUpdateForm").reset()};function O(){return(O=x(o().mark((function e(t){var n,s,l,i,u,d,x,O,A,D,J,L,z;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=U.current.value,s=k.current.value,l=C.current.value,i=S.current.value,u=P.current.value,d=w.current.value,x=F.current.value,O=M.current.value,A=E.current.value,D=I.current.value,n||(n=_),s||(s=m),l||(l=h),i||(i=f),u||(u=b),d||(d=j),x||(x=v),D||(D=g),O||(O=N),A||(A=y),e.next=23,fetch("/api/members/memberUpdate",{method:"POST",body:JSON.stringify({memberId:R,roadNameUpdate:n,cellPhoneUpdate:s,homePhoneUpdate:l,iceNameUpdate:O,iceNumberUpdate:A,addressUpdate:i,cityUpdate:u,stateUpdate:d,zipUpdate:x,emailUpdate:D}),headers:{"Content-Type":"application/json"}});case 23:return J=e.sent,e.next=26,J.json();case 26:L=e.sent,T(),z=(0,r.jsx)("p",{className:p().error,children:L.message}),a(z),c(!0);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.jsxs)("section",{className:p().background,children:[(0,r.jsx)("h1",{children:"Member Information"}),(0,r.jsxs)("div",{children:[n||"",(0,r.jsxs)("div",{children:[R," ",u," ",d]}),(0,r.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},id:"memberUpdateForm",children:[(0,r.jsxs)("div",{className:p().control,children:[(0,r.jsx)("label",{htmlFor:"roadName",children:"Road Name:"}),(0,r.jsx)("input",{type:"text",name:"roadName",id:"roadName",placeholder:_,ref:U}),(0,r.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,r.jsx)("input",{type:"text",name:"email",id:"email",placeholder:g,ref:I})]}),(0,r.jsxs)("div",{className:p().control,children:[(0,r.jsx)("label",{htmlFor:"address",children:"Address:"}),(0,r.jsx)("input",{type:"text",name:"address",id:"address",placeholder:f,ref:S}),(0,r.jsx)("label",{htmlFor:"city",children:"City:"}),(0,r.jsx)("input",{type:"text",name:"city",id:"city",placeholder:b,ref:P}),(0,r.jsx)("label",{htmlFor:"state",children:"State:"}),(0,r.jsx)("input",{type:"text",name:"state",id:"state",placeholder:j,ref:w}),(0,r.jsx)("label",{htmlFor:"zip",children:"Zip: "}),(0,r.jsx)("input",{type:"text",name:"zip",id:"name",placeholder:v,ref:F}),(0,r.jsx)("label",{htmlFor:"homePhone",children:"Home Phone Number:"}),(0,r.jsx)("input",{type:"text",name:"homePhone",id:"homePhone",placeholder:h,ref:C}),(0,r.jsx)("label",{htmlFor:"cellPhone",children:"Cell Phone Number"}),(0,r.jsx)("input",{type:"text",name:"cellPhone",id:"cellPhone",placeholder:m,ref:k})]}),(0,r.jsxs)("div",{className:p().control,children:[(0,r.jsx)("label",{htmlFor:"iceName",children:"ICE Name:"}),(0,r.jsx)("input",{type:"text",name:"iceName",id:"iceName",placeholder:N,ref:M}),(0,r.jsx)("label",{htmlFor:"iceNumber",children:"ICE Phone Number:"}),(0,r.jsx)("input",{type:"text",name:"iceNumber",id:"iceNumber",placeholder:y,ref:E})]}),(0,r.jsx)("button",{type:"submit",className:p().button,children:"Update!"})]})]})]})},j=n(5465),v=n.n(j);function _(e,t,n,r,a,o,s){try{var l=e[o](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){_(o,r,a,s,l,"next",e)}function l(e){_(o,r,a,s,l,"throw",e)}s(void 0)}))}}var y=function(){var e=(0,l.useState)(),t=e[0],n=e[1],a=(0,l.useState)(!1),s=a[0],i=a[1];(0,l.useEffect)((function(){var e=setTimeout((function(){return n(null)}),7e3);return function(){return clearTimeout(e)}}),[s]);var c=(0,l.useRef)(),u=(0,l.useRef)(),d=(0,l.useRef)(),m=(0,l.useRef)(),h=(0,l.useRef)(),p=(0,l.useRef)(),f=(0,l.useRef)(),x=(0,l.useRef)(),b=(0,l.useRef)(),j=(0,l.useRef)(),_=(0,l.useRef)(),y=(0,l.useRef)(),g=(0,l.useRef)(),R=(0,l.useRef)(),U=function(){document.getElementById("newMemberForm").reset()};function k(){return(k=N(o().mark((function e(t){var a,s,l,N,k,C,S,P,w,F,M,E,I,T,O,A;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=c.current.value,s=u.current.value,l=d.current.value,N=m.current.value,k=h.current.value,C=p.current.value,S=f.current.value,P=x.current.value,w=b.current.value,F=j.current.value,M=_.current.value,E=g.current.value,I=y.current.value,T=R.current.value,e.next=17,fetch("/api/members/memberNew",{method:"POST",body:JSON.stringify({memberId:a,roadNameUpdate:s,cellPhoneUpdate:l,homePhoneUpdate:N,iceNameUpdate:w,iceNumberUpdate:F,addressUpdate:k,cityUpdate:C,stateUpdate:S,zipUpdate:P,emailUpdate:M,lastNameUpdate:E,firstNameUpdate:I,role:T}),headers:{"Content-Type":"application/json"}});case 17:return O=e.sent,e.next=20,O.json();case 20:e.sent.message&&(A=(0,r.jsx)("p",{className:v().error,children:"Member Added"}),i(!0),n(A)),U();case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.jsxs)("section",{className:v().background,children:[(0,r.jsx)("h1",{children:"Member Information"}),(0,r.jsxs)("div",{children:[t,(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:"New Member"})}),(0,r.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},id:"newMemberForm",children:[(0,r.jsxs)("div",{className:v().control,children:[(0,r.jsx)("label",{htmlFor:"memberNumber",children:"Member Number"}),(0,r.jsx)("input",{type:"text",name:"memberNumber",id:"memberNumber",ref:c}),(0,r.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),(0,r.jsx)("input",{type:"text",name:"firstName",id:"firstName",ref:y}),(0,r.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),(0,r.jsx)("input",{type:"text",name:"lastName",id:"lastName",ref:g}),(0,r.jsx)("label",{htmlFor:"roadName",children:"Road Name:"}),(0,r.jsx)("input",{type:"text",name:"roadName",id:"roadName",ref:u}),(0,r.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,r.jsx)("input",{type:"text",name:"email",id:"email",ref:_})]}),(0,r.jsxs)("div",{className:v().control,children:[(0,r.jsx)("label",{htmlFor:"address",children:"Address:"}),(0,r.jsx)("input",{type:"text",name:"address",id:"address",ref:h}),(0,r.jsx)("label",{htmlFor:"city",children:"City:"}),(0,r.jsx)("input",{type:"text",name:"city",id:"city",ref:p}),(0,r.jsx)("label",{htmlFor:"state",children:"State:"}),(0,r.jsx)("input",{type:"text",name:"state",id:"state",ref:f}),(0,r.jsx)("label",{htmlFor:"zip",children:"Zip: "}),(0,r.jsx)("input",{type:"text",name:"zip",id:"zip",ref:x}),(0,r.jsx)("label",{htmlFor:"homePhone",children:"Home Phone Number:"}),(0,r.jsx)("input",{type:"text",name:"homePhone",id:"homePhone",ref:m}),(0,r.jsx)("label",{htmlFor:"cellPhone",children:"Cell Phone Number"}),(0,r.jsx)("input",{type:"text",name:"cellPhone",id:"cellPhone",ref:d})]}),(0,r.jsxs)("div",{className:v().control,children:[(0,r.jsx)("label",{htmlFor:"iceName",children:"ICE Name:"}),(0,r.jsx)("input",{type:"text",name:"iceName",id:"iceName",ref:b}),(0,r.jsx)("label",{htmlFor:"iceNumber",children:"ICE Phone Number:"}),(0,r.jsx)("input",{type:"text",name:"iceNumber",id:"iceNumber",ref:j}),(0,r.jsx)("label",{htmlFor:"role",children:"Role:"}),(0,r.jsxs)("select",{name:"role",id:"role",ref:R,children:[(0,r.jsx)("option",{value:"admin",children:"Administrator"}),(0,r.jsx)("option",{value:"member",children:"Member"})]})]}),(0,r.jsx)("button",{type:"submit",className:v().button,children:"Update!"})]})]})]})},g=n(5044),R=n.n(g);function U(e,t,n,r,a,o,s){try{var l=e[o](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}var k=function(){var e=function(e){e.preventDefault();var t=x.current.value,n=b.current.value,r=j.current.value;switch(t){case"meetingMinutes":var a=v(i,t,n,r);console.log(a),m(a);break;case"cebMinutes":var o=v(i,t,n,r);m(o);break;default:var s=_(i,t);m(s)}},t=(0,l.useState)([]),n=t[0],a=t[1],s=(0,l.useState)([]),i=s[0],c=s[1],u=(0,l.useState)([]),d=u[0],m=u[1],h=(0,l.useState)(),p=h[0],f=h[1],x=(0,l.useRef)(),b=(0,l.useRef)(),j=(0,l.useRef)();(0,l.useEffect)((function(){fetch("/api/document/years").then((function(e){return e.json()})).then((function(e){return a(e.yearsArray)})),fetch("/api/document/").then((function(e){return e.json()})).then((function(e){return c(e.docsArray)}))}),[]);var v=function(e,t,n,r){for(var a=[],o=[],s=[],l=0;l<e.length;l++)e[l][0]===t&&a.push([e[l][0],e[l][1],e[l][2],e[l][3],e[l][4]]);for(var i=0;i<a.length;i++)a[i][2]===n&&o.push([a[i][0],a[i][1],a[i][2],a[i][3],a[i][4]]);for(var c=0;c<o.length;c++)o[c][1]===r&&s.push([o[c][0],o[c][1],o[c][2],o[c][3],o[c][4]]);return s},_=function(e,t){for(var n=[],r=0;r<e.length;r++)e[r][0]===t&&n.push([e[r][0],e[r][1],e[r][2],e[r][3],e[r][4]]);return n};if(d)for(var N=[],y=0;y<d.length;y++)N.push(d[y][3],d[y][4]);else;var g=function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("/api/document/s3-delete",{method:"DELETE",body:JSON.stringify({location:t}),headers:{"Content-Type":"application/json"}});case 3:200===e.sent.status&&f("File Deleted");case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){U(o,r,a,s,l,"next",e)}function l(e){U(o,r,a,s,l,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.jsxs)("section",{className:R().background,children:[(0,r.jsx)("h1",{children:"Documents"}),(0,r.jsx)("button",{onClick:function(t){t.preventDefault(),fetch("/api/document/years").then((function(e){return e.json()})).then((function(e){return a(e.yearsArray)})),fetch("/api/document/").then((function(e){return e.json()})).then((function(e){return c(e.docsArray)})),e(t)},className:R().button,children:"Refresh"}),(0,r.jsxs)("form",{id:"getDocs",onSubmit:e,children:[(0,r.jsx)("div",{className:R().control,children:(0,r.jsxs)("select",{id:"category",ref:x,children:[(0,r.jsx)("option",{value:"meetingMinutes",children:"Meeting Minutes"}),(0,r.jsx)("option",{value:"cebMinutes",children:"CEB Minutes"}),(0,r.jsx)("option",{value:"roadCaptain",children:"Road Captain"})]})}),(0,r.jsx)("div",{className:R().control,children:(0,r.jsx)("select",{id:"yearlist",ref:b,children:n.map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))})}),(0,r.jsx)("div",{className:R().control,children:(0,r.jsxs)("select",{id:"months",ref:j,children:[(0,r.jsx)("option",{value:"jan",children:"January"}),(0,r.jsx)("option",{value:"feb",children:"Febuary"}),(0,r.jsx)("option",{value:"Mar",children:"March"}),(0,r.jsx)("option",{value:"apr",children:"April"}),(0,r.jsx)("option",{value:"may",children:"May"}),(0,r.jsx)("option",{value:"jun",children:"June"}),(0,r.jsx)("option",{value:"jul",children:"July"}),(0,r.jsx)("option",{value:"aug",children:"August"}),(0,r.jsx)("option",{value:"sep",children:"September"}),(0,r.jsx)("option",{value:"oct",children:"October"}),(0,r.jsx)("option",{value:"nov",children:"November"}),(0,r.jsx)("option",{value:"dec",children:"December"})]})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:R().button,children:"Submit"})})]}),(0,r.jsxs)("div",{children:[d?d.map((function(e){return(0,r.jsxs)("span",{children:[(0,r.jsx)("a",{href:e[4],className:R().link,children:e[3]}),(0,r.jsx)("button",{className:R().delete,onClick:function(){return g(e[4])},children:"Delete"}),(0,r.jsx)("br",{})]},e[4])})):"",(0,r.jsx)("h3",{children:p})]})]})},C=n(2061),S=n.n(C);var P=function(e){var t=JSON.parse(e.members);return(0,r.jsx)("section",{className:S().background,children:(0,r.jsx)("div",{className:S().tablewrapper,children:(0,r.jsxs)("div",{className:S().tablescroll,children:[(0,r.jsx)("h3",{children:"Members"}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Member Number"}),(0,r.jsx)("th",{children:"Name"})]})}),(0,r.jsx)("tbody",{children:t.map((function(t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("a",{className:S().tablelink,onClick:function(){e.modalOpen(),e.setMemberId(t.memberId)},children:t.memberId})}),(0,r.jsx)("td",{children:"".concat(t.firstName," ").concat(t.roadName?'"'.concat(t.roadName,'"'):""," ").concat(t.lastName)})]},t._id)}))})]})]})})})},w=n(6366),F=n.n(w);function M(e,t,n,r,a,o,s){try{var l=e[o](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){M(o,r,a,s,l,"next",e)}function l(e){M(o,r,a,s,l,"throw",e)}s(void 0)}))}}var I=function(e){var t=JSON.parse(e.members).find((function(t){return t.memberId===e.memberId})),n=e.adminRole,a=(0,l.useState)(!1),s=a[0],i=a[1],c=(0,l.useState)(!1),u=c[0],d=c[1],m=(0,l.useState)(!1),h=m[0],p=m[1],f=new Date,x="".concat(f.getDate(),"/").concat(f.getMonth()+1,"/").concat(f.getFullYear()),b=e.memberId,j="",v="",_="",N="",y="",g="",R="",U="",k="",C="",S="",P="",w="",M="",I="",T="";t&&(j=t.firstName,v=t.lastName,_=t.cellPhone,N=t.homePhone,y=t.address,g=t.city,R=t.state,U=t.zip,k=t.roadName,C=t.iceName,S=t.iceNumber,P=t.insureance,w=t.registration,M=t.driverLicence,I=t.email,T=t.role);var O=(0,l.useRef)(),A=(0,l.useRef)(),D=(0,l.useRef)(),J=(0,l.useRef)(),L=(0,l.useRef)(),z=(0,l.useRef)(),V=(0,l.useRef)(),B=(0,l.useRef)(),H=(0,l.useRef)(),q=(0,l.useRef)(),Y=(0,l.useRef)(),Z=(0,l.useRef)(),W=(0,l.useRef)(),G="admin"===T?(0,r.jsxs)("select",{ref:W,defaultValue:"admin",children:[(0,r.jsx)("option",{value:"admin",children:"Administrator"}),";",(0,r.jsx)("option",{value:"member",children:"Member"}),";"]}):(0,r.jsxs)("select",{ref:W,defaultValue:"member",children:[(0,r.jsx)("option",{value:"admin",children:"Administrator"}),";",(0,r.jsx)("option",{value:"member",children:"Member"}),";"]}),Q=function(){var e=E(o().mark((function e(t){var n,r,a,l,i,c,d,m,p,f,U,F,E,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=O.current.value,r=A.current.value,a=D.current.value,l=J.current.value,i=L.current.value,c=z.current.value,d=V.current.value,m=B.current.value,p=H.current.value,f=q.current.value,U=Y.current.value,F=Z.current.value,E=W.current.value,n||(n=k),r||(r=j),a||(a=v),l||(l=y),i||(i=g),d||(d=R),m||(m=I),p||(p=C),f||(p=S),U||(U=N),F||(F=_),s&&(P=x),u&&(w=x),h&&(M=x),e.next=30,fetch("/api/members/adminUpdate",{method:"POST",body:JSON.stringify({memberId:b,firstNameUpdate:r,roadNameUpdate:n,lastNameUpdate:a,addressUpdate:l,cityUpdate:i,zipUpdate:c,stateUpdate:d,emailUpdate:m,iceNameUpdate:p,iceNumberUpdate:f,homePhoneUpdate:U,cellPhoneUpdate:F,insurance:P,registration:w,driverLicence:M,roleUpdate:E}),headers:{"Content-Type":"application/json"}});case 30:T=e.sent,console.log(T);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(){var t=E(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/api/members/deleteUser",{method:"DELETE",body:JSON.stringify({memberId:b}),headers:{"Content-Type":"application/json"}});case 3:r=t.sent,console.log(r),e.modalClose;case 6:case"end":return t.stop()}}),t)})))}(),(0,r.jsx)("div",{children:e.show?(0,r.jsx)("div",{className:F().modalContainer,children:(0,r.jsxs)("div",{className:F().modal,children:[(0,r.jsx)("header",{className:F().modal_header,children:(0,r.jsx)("h3",{className:F().modal_title,children:"Member Information"})}),(0,r.jsx)("main",{className:F().modal_content,children:n?(0,r.jsx)("form",{onSubmit:Q,children:(0,r.jsxs)("div",{className:F().control,children:[(0,r.jsx)("input",{type:"text",placeholder:j,ref:A}),(0,r.jsx)("input",{type:"text",placeholder:k||"Road Name",ref:O}),(0,r.jsx)("input",{type:"text",placeholder:v,ref:D}),(0,r.jsx)("input",{type:"email",placeholder:I,ref:B}),(0,r.jsx)("input",{type:"text",placeholder:N||"Home Phone",ref:Y}),(0,r.jsx)("input",{type:"text",placeholder:_||"Cell Phone",ref:Z}),(0,r.jsx)("input",{type:"text",placeholder:y,ref:J}),(0,r.jsx)("input",{type:"text",placeholder:g,ref:L}),(0,r.jsx)("input",{type:"text",placeholder:R,ref:V}),(0,r.jsx)("input",{type:"text",placeholder:U,ref:z}),(0,r.jsx)("input",{type:"text",placeholder:C||"Ice Contact",ref:H}),(0,r.jsx)("input",{type:"text",placeholder:S||"Ice Contact Number ",ref:q}),G,(0,r.jsxs)("div",{className:F().center,children:[(0,r.jsxs)("div",{className:F().formatCheckbox,children:[(0,r.jsx)("label",{htmlFor:"insureance",children:"Insurance"}),(0,r.jsx)("input",{type:"checkbox",onChange:function(){i(!s)}}),(0,r.jsx)("p",{children:P})]}),(0,r.jsxs)("div",{className:F().formatCheckbox,children:[(0,r.jsx)("label",{htmlFor:"registration",children:"Registration"}),(0,r.jsx)("input",{type:"checkbox",onChange:function(){d(!u)}}),(0,r.jsx)("p",{children:w})]}),(0,r.jsxs)("div",{className:F().formatCheckbox,children:[(0,r.jsx)("label",{htmlFor:"driversLicense",children:"Drivers License"}),(0,r.jsx)("input",{type:"checkbox",onChange:function(){p(!h)}}),(0,r.jsx)("p",{children:M})]})]})]})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"".concat(j," ").concat(k?'"'.concat(k,'"'):""," ").concat(v)}),(0,r.jsx)("h4",{className:F().h4margin,children:"Address:"}),(0,r.jsx)("address",{children:"".concat(y," ").concat(g,", ").concat(R," ").concat(U)}),(0,r.jsx)("h4",{className:F().h4margin,children:"Email:"}),(0,r.jsx)("email",{children:I}),N?(0,r.jsx)("h4",{className:F().h4margin,children:"Home Phone:"}):"",N?(0,r.jsx)("phone",{children:N}):"",_?(0,r.jsx)("h4",{className:F().h4margin,children:"Cell Phone:"}):"",_?(0,r.jsx)("phone",{children:_}):"",C?(0,r.jsx)("h4",{className:F().h4margin,children:"Ice Name:"}):"",C||"",S?(0,r.jsx)("h4",{className:F().h4margin,children:"Ice Number:"}):"",S||""]})}),(0,r.jsx)("footer",{className:F().modal_footer,children:(0,r.jsxs)("div",{className:F().center,children:[n?(0,r.jsx)("button",{className:F().button,onClick:Q,children:"Submit"}):"",(0,r.jsx)("button",{className:F().button,onClick:e.modalClose,children:n?"Cancel":"Close"}),n?(0,r.jsx)("button",{className:F().button,onClick:function(){},children:"DELETE USER"}):""]})})]})}):null})},T=n(9125),O=n.n(T);var A=!0,D=function(e){var t=JSON.parse(e.members).find((function(t){return t.memberId===e.session.user.name})),n=t.role,a=(0,l.useState)(!1),o=a[0],s=a[1],i=(0,l.useState)(),c=i[0],u=i[1],d=(0,l.useState)(!0),h=d[0],p=d[1],f=(0,l.useState)(!1),x=f[0],j=f[1];(0,l.useEffect)((function(){p(!h)}),[x]),(0,l.useEffect)((function(){"admin"===n&&s(!o)}),[]),console.log(o);var v=function(e){if(e)return(0,r.jsx)(m,{})}(o);return(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"Members Area"})}),(0,r.jsx)("div",{className:O().adminouterbox,children:(0,r.jsx)("div",{className:O().memberUpdate,children:(0,r.jsx)(b,{user:t})})}),(0,r.jsxs)("div",{className:O().adminouterbox,children:[v,(0,r.jsx)(k,{}),o?(0,r.jsx)(y,{}):"",(0,r.jsx)(P,{members:e.members,setMemberId:u,modalOpen:function(){j(!x)}})]}),(0,r.jsx)(I,{memberId:c,show:h,setEffect:j,modalClose:function(){j(!x)},members:e.members,member:t,adminRole:o})]})}},5044:function(e){e.exports={background:"documents_background__5LZ7Y",link:"documents_link__ihf0S",control:"documents_control__GK6xy",actions:"documents_actions__DRQUI",button:"documents_button__I6VOY",delete:"documents_delete__bjbkC",toggle:"documents_toggle__iej3Y",error:"documents_error__oSEnt"}},5465:function(e){e.exports={background:"memberNew_background__W9pF1",control:"memberNew_control__z5XFL",actions:"memberNew_actions__H8iMT",button:"memberNew_button__MSmdh",toggle:"memberNew_toggle__unAbV",error:"memberNew_error__gHqH0"}},2061:function(e){e.exports={tablewrapper:"memberRolls_tablewrapper__Ny_qp",tablescroll:"memberRolls_tablescroll__VVwmX",text:"memberRolls_text__GOSfA",tablelink:"memberRolls_tablelink__IicRZ",background:"memberRolls_background__QE_3d",control:"memberRolls_control__3mmoa",actions:"memberRolls_actions__t7svY",button:"memberRolls_button__ksZl6",toggle:"memberRolls_toggle__AFlpO",error:"memberRolls_error__CCGJ6",state:"memberRolls_state__5484V"}},713:function(e){e.exports={background:"memberUpdate_background__iRCDq",control:"memberUpdate_control__MQ_8J",actions:"memberUpdate_actions__h8snj",button:"memberUpdate_button___kPM5",toggle:"memberUpdate_toggle__3xUaV",error:"memberUpdate_error___eoPo",state:"memberUpdate_state__S6h74"}},6366:function(e){e.exports={modalContainer:"modal_modalContainer__oLeLn",modal:"modal_modal__95EBg",modal_header:"modal_modal_header__ImiSf",modal_title:"modal_modal_title__EG8Cb",modal_content:"modal_modal_content__2IZWT",modal_footer:"modal_modal_footer__7L0yg",modal_close:"modal_modal_close__Ah6h7",submit:"modal_submit__bj_0P",background:"modal_background__9rlWc",h4margin:"modal_h4margin__OO4NE",control:"modal_control__1RAmB",actions:"modal_actions__d_tlq",button:"modal_button__KUefK",toggle:"modal_toggle__vqB5W",error:"modal_error__Q1keM",formatCheckbox:"modal_formatCheckbox__AY5Bl",center:"modal_center___2ARP",state:"modal_state__WFNzD"}},8699:function(e){e.exports={background:"upload_background__a6nJx",control:"upload_control__nM95v",actions:"upload_actions__TvgMD",button:"upload_button__FuH2J",toggle:"upload_toggle___p3lt",error:"upload_error__ZLl2O"}},9125:function(e){e.exports={adminouterbox:"member_adminouterbox__A17pV",memberNew:"member_memberNew__TwM3_",memberUpdate:"member_memberUpdate__mwcTV"}},4287:function(){},9862:function(){},964:function(){}},function(e){e.O(0,[179,134,774,888,377],(function(){return t=3083,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{7049:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/[eventId]",function(){return t(3991)}])},3467:function(e,n,t){"use strict";var s=t(5893);n.Z=function(){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}},8624:function(e,n,t){"use strict";var s=t(5893);n.Z=function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}},8407:function(e,n,t){"use strict";var s=t(5893),i=t(1040),r=t.n(i);n.Z=function(e){return(0,s.jsx)("div",{className:r().alert,children:e.children})}},3991:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return A},default:function(){return D}});var s=t(5893),i=t(7294),r=t(9008),c=t(1163),o=t(8633),a=t(9566),l=t.n(a);var m=function(e){var n=e.title;return(0,s.jsx)("section",{className:l().summary,children:(0,s.jsx)("h1",{children:n})})},u=t(3467),d=t(8624),h=t(3095),x=t.n(h);var f=function(e){var n=e.icon;return(0,s.jsxs)("li",{className:x().item,children:[(0,s.jsx)("span",{className:x().icon,children:(0,s.jsx)(n,{})}),(0,s.jsx)("span",{className:x().content,children:e.children})]})},j=t(4060),_=t.n(j),v=t(5675);var p=function(e){var n=e.date,t=e.address,i=e.image,r=e.imageAlt,c=new Date(n).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}),o=t.replace("-","\n");return(0,s.jsxs)("section",{className:_().logistics,children:[(0,s.jsx)("div",{className:_().image,children:(0,s.jsx)(v.default,{src:"/".concat(i),alt:r,width:150,height:150})}),(0,s.jsxs)("ul",{className:_().list,children:[(0,s.jsx)(f,{icon:d.Z,children:(0,s.jsx)("time",{children:c})}),(0,s.jsx)(f,{icon:u.Z,children:(0,s.jsx)("address",{children:o})})]})]})},g=t(9660),w=t.n(g);var N=function(e){return(0,s.jsx)("section",{className:w().content,children:e.children})},k=(t(8407),t(8603)),S=t.n(k);var y=function(e){var n=e.items;return(0,s.jsx)("ul",{className:S().comments,children:n.map((function(e){return(0,s.jsxs)("li",{children:[(0,s.jsx)("p",{children:e.text}),(0,s.jsxs)("div",{children:["By ",(0,s.jsx)("address",{children:e.name})]})]},e._id)}))})},C=t(2458),L=t.n(C);var b=function(e){var n=(0,i.useState)(!1),t=n[0],r=n[1],c=(0,i.useRef)(),o=(0,i.useRef)(),a=(0,i.useRef)();return(0,s.jsxs)("form",{className:L().form,onSubmit:function(n){n.preventDefault();var t=c.current.value,s=o.current.value,i=a.current.value;t&&""!==t.trim()&&t.includes("@")&&s&&""!==s.trim()&&i&&""!==i.trim()?e.onAddComment({email:t,name:s,text:i}):r(!0)},children:[(0,s.jsxs)("div",{className:L().row,children:[(0,s.jsxs)("div",{className:L().control,children:[(0,s.jsx)("label",{htmlFor:"email",children:"Your email"}),(0,s.jsx)("input",{type:"email",id:"email",ref:c})]}),(0,s.jsxs)("div",{className:L().control,children:[(0,s.jsx)("label",{htmlFor:"name",children:"Your name"}),(0,s.jsx)("input",{type:"text",id:"name",ref:o})]})]}),(0,s.jsxs)("div",{className:L().control,children:[(0,s.jsx)("label",{htmlFor:"comment",children:"Your comment"}),(0,s.jsx)("textarea",{id:"comment",rows:"5",ref:a})]}),t&&(0,s.jsx)("p",{children:"Please enter a valid email address and comment!"}),(0,s.jsx)("button",{children:"Submit"})]})},E=t(4470),M=t.n(E);var Y=function(e){var n=e.eventId,t=e.firstName,r=e.lastName,c=(0,i.useState)(!1),o=c[0],a=c[1],l=(0,i.useState)([]),m=l[0],u=l[1];return(0,i.useEffect)((function(){o&&fetch("/api/comments/".concat(n)).then((function(e){return e.json()})).then((function(e){u(e.comments)}))}),[o]),(0,s.jsxs)("section",{className:M().comments,children:[(0,s.jsxs)("button",{onClick:function(){a((function(e){return!e}))},children:[o?"Hide":"Show"," Comments"]}),o&&(0,s.jsx)(b,{onAddComment:function(e){console.log(n,t,r),fetch("/api/comments/".concat(n),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}),o&&(0,s.jsx)(y,{items:m})]})};var A=!0,D=function(e){var n=(0,c.useRouter)(),t=e.selectedEvent;return(0,i.useEffect)((function(){(0,o.Gg)().then((function(e){e||n.replace("/login")}))}),[n]),t?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(r.default,{children:[(0,s.jsx)("title",{children:"CVMA 18 - 2 ".concat(t.title)}),(0,s.jsx)("meta",{name:"description",content:t.description})]}),(0,s.jsx)(m,{title:t.title}),(0,s.jsx)(p,{date:t.date,address:t.address,image:t.image,imageAlt:t.title}),(0,s.jsx)(N,{children:(0,s.jsx)("p",{children:t.description})}),(0,s.jsx)(Y,{eventId:t._id})]}):(0,s.jsx)("div",{className:"center",children:(0,s.jsx)("p",{children:"Loading..."})})}},9660:function(e){e.exports={content:"event-content_content__N8f4Q"}},4060:function(e){e.exports={logistics:"event-logistics_logistics__nnLSE",image:"event-logistics_image__cldYm",list:"event-logistics_list__flNvw"}},9566:function(e){e.exports={summary:"event-summary_summary__rmm9D"}},3095:function(e){e.exports={item:"logistics-item_item__jiFzn",icon:"logistics-item_icon__o2W_d"}},8603:function(e){e.exports={comments:"comment-list_comments__IGYva"}},4470:function(e){e.exports={comments:"comments_comments__DvCYh"}},2458:function(e){e.exports={form:"new-comment_form__StHMs",row:"new-comment_row__6RSMo",control:"new-comment_control__dwipg"}},1040:function(e){e.exports={alert:"error-alert_alert__CinLM"}}},function(e){e.O(0,[774,888,179],(function(){return n=7049,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
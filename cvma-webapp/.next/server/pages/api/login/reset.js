"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/login/reset";
exports.ids = ["pages/api/login/reset"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./helpers/api-util.js":
/*!*****************************!*\
  !*** ./helpers/api-util.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hashPasswd\": () => (/* binding */ hashPasswd),\n/* harmony export */   \"verifyPasswd\": () => (/* binding */ verifyPasswd),\n/* harmony export */   \"extractData\": () => (/* binding */ extractData),\n/* harmony export */   \"getAllEvents\": () => (/* binding */ getAllEvents),\n/* harmony export */   \"getFeaturedEvents\": () => (/* binding */ getFeaturedEvents),\n/* harmony export */   \"getEventById\": () => (/* binding */ getEventById),\n/* harmony export */   \"getFilteredEvents\": () => (/* binding */ getFilteredEvents)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function hashPasswd(password) {\n    const hashedPasswd = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_1__.hash)(password, 12);\n    return hashedPasswd;\n}\nasync function verifyPasswd(passwd, hashedPasswd) {\n    const isValid = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_1__.compare)(passwd, hashedPasswd);\n    return isValid;\n}\n//----------------------------------------------------------------\n// Update all function to use mongo cvma database once done with authentication.\nfunction extractData(filePath) {\n    const fileData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath);\n    const data = JSON.parse(fileData);\n    return data;\n}\nasync function getAllEvents() {\n    const response = await fetch('https://fir-4e699-default-rtdb.firebaseio.com/events.json');\n    const data = await response.json();\n    const events = [];\n    for(const key in data){\n        events.push({\n            id: key,\n            ...data[key]\n        });\n    }\n    return events;\n}\nasync function getFeaturedEvents() {\n    const allEvents = await getAllEvents();\n    return allEvents.filter((event)=>event.isFeatured\n    );\n}\nasync function getEventById(id) {\n    const allEvents = await getAllEvents();\n    return allEvents.find((event)=>event.id === id\n    );\n}\nasync function getFilteredEvents(dateFilter) {\n    const { year , month  } = dateFilter;\n    const allEvents = await getAllEvents();\n    let filteredEvents = allEvents.filter((event)=>{\n        const eventDate = new Date(event.date);\n        return eventDate.getFullYear() === year && eventDate.getMonth() === month - 1;\n    });\n    return filteredEvents;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS11dGlsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW1CO0FBQ3FCO0FBRWpDLGVBQWVHLFVBQVUsQ0FBQ0MsUUFBUSxFQUFFLENBQUM7SUFDMUMsS0FBSyxDQUFDQyxZQUFZLEdBQUcsS0FBSyxDQUFDSiw4Q0FBSSxDQUFDRyxRQUFRLEVBQUUsRUFBRTtJQUM1QyxNQUFNLENBQUNDLFlBQVk7QUFDckIsQ0FBQztBQUVNLGVBQWVDLFlBQVksQ0FBRUMsTUFBTSxFQUFFRixZQUFZLEVBQUUsQ0FBQztJQUN6RCxLQUFLLENBQUNHLE9BQU8sR0FBRyxLQUFLLENBQUNOLGlEQUFPLENBQUNLLE1BQU0sRUFBRUYsWUFBWTtJQUNsRCxNQUFNLENBQUNHLE9BQU87QUFDaEIsQ0FBQztBQUlELEVBQWtFO0FBQ2xFLEVBQWdGO0FBQ3pFLFNBQVNDLFdBQVcsQ0FBQ0MsUUFBUSxFQUFDLENBQUM7SUFDbkMsS0FBSyxDQUFDQyxRQUFRLEdBQUdYLHNEQUFlLENBQUNVLFFBQVE7SUFDekMsS0FBSyxDQUFDRyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixRQUFRO0lBQ2hDLE1BQU0sQ0FBQ0UsSUFBSTtBQUNkLENBQUM7QUFHTSxlQUFlRyxZQUFZLEdBQUcsQ0FBQztJQUNwQyxLQUFLLENBQUNDLFFBQVEsR0FBRyxLQUFLLENBQUNDLEtBQUssQ0FBQyxDQUEyRDtJQUN4RixLQUFLLENBQUNMLElBQUksR0FBRyxLQUFLLENBQUNJLFFBQVEsQ0FBQ0UsSUFBSTtJQUVoQyxLQUFLLENBQUNDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFFakIsR0FBRyxDQUFFLEtBQUssQ0FBQ0MsR0FBRyxJQUFJUixJQUFJLENBQUUsQ0FBQztRQUN2Qk8sTUFBTSxDQUFDRSxJQUFJLENBQUMsQ0FBQztZQUNYQyxFQUFFLEVBQUVGLEdBQUc7ZUFDSlIsSUFBSSxDQUFDUSxHQUFHO1FBQ2IsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUNELE1BQU07QUFDZixDQUFDO0FBRU0sZUFBZUksaUJBQWlCLEdBQUcsQ0FBQztJQUN6QyxLQUFLLENBQUNDLFNBQVMsR0FBRyxLQUFLLENBQUNULFlBQVk7SUFDcEMsTUFBTSxDQUFDUyxTQUFTLENBQUNDLE1BQU0sRUFBRUMsS0FBSyxHQUFLQSxLQUFLLENBQUNDLFVBQVU7O0FBQ3JELENBQUM7QUFFTSxlQUFlQyxZQUFZLENBQUNOLEVBQUUsRUFBRSxDQUFDO0lBQ3RDLEtBQUssQ0FBQ0UsU0FBUyxHQUFHLEtBQUssQ0FBQ1QsWUFBWTtJQUNwQyxNQUFNLENBQUNTLFNBQVMsQ0FBQ0ssSUFBSSxFQUFFSCxLQUFLLEdBQUtBLEtBQUssQ0FBQ0osRUFBRSxLQUFLQSxFQUFFOztBQUNsRCxDQUFDO0FBRU0sZUFBZVEsaUJBQWlCLENBQUNDLFVBQVUsRUFBRSxDQUFDO0lBQ25ELEtBQUssQ0FBQyxDQUFDLENBQUNDLElBQUksR0FBRUMsS0FBSyxFQUFDLENBQUMsR0FBR0YsVUFBVTtJQUVsQyxLQUFLLENBQUNQLFNBQVMsR0FBRyxLQUFLLENBQUNULFlBQVk7SUFFcEMsR0FBRyxDQUFDbUIsY0FBYyxHQUFHVixTQUFTLENBQUNDLE1BQU0sRUFBRUMsS0FBSyxHQUFLLENBQUM7UUFDaEQsS0FBSyxDQUFDUyxTQUFTLEdBQUcsR0FBRyxDQUFDQyxJQUFJLENBQUNWLEtBQUssQ0FBQ1csSUFBSTtRQUNyQyxNQUFNLENBQUNGLFNBQVMsQ0FBQ0csV0FBVyxPQUFPTixJQUFJLElBQUlHLFNBQVMsQ0FBQ0ksUUFBUSxPQUFPTixLQUFLLEdBQUcsQ0FBQztJQUMvRSxDQUFDO0lBRUQsTUFBTSxDQUFDQyxjQUFjO0FBQ3ZCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtcm91dGluZy1jb3Vyc2UvLi9oZWxwZXJzL2FwaS11dGlsLmpzP2ExZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHRqcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dkKHBhc3N3b3JkKSB7XG4gIGNvbnN0IGhhc2hlZFBhc3N3ZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIDEyKTtcbiAgcmV0dXJuIGhhc2hlZFBhc3N3ZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3ZCAocGFzc3dkLCBoYXNoZWRQYXNzd2QpIHtcbiAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGNvbXBhcmUocGFzc3dkLCBoYXNoZWRQYXNzd2QpO1xuICByZXR1cm4gaXNWYWxpZDtcbn1cblxuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVXBkYXRlIGFsbCBmdW5jdGlvbiB0byB1c2UgbW9uZ28gY3ZtYSBkYXRhYmFzZSBvbmNlIGRvbmUgd2l0aCBhdXRoZW50aWNhdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RGF0YShmaWxlUGF0aCl7XG4gICBjb25zdCBmaWxlRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCk7XG4gICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShmaWxlRGF0YSk7XG4gICByZXR1cm4gZGF0YTtcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsRXZlbnRzKCkge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2Zpci00ZTY5OS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZXZlbnRzLmpzb24nKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICBjb25zdCBldmVudHMgPSBbXTtcblxuICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgZXZlbnRzLnB1c2goe1xuICAgICAgaWQ6IGtleSxcbiAgICAgIC4uLmRhdGFba2V5XVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50cztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZlYXR1cmVkRXZlbnRzKCkge1xuICBjb25zdCBhbGxFdmVudHMgPSBhd2FpdCBnZXRBbGxFdmVudHMoKTtcbiAgcmV0dXJuIGFsbEV2ZW50cy5maWx0ZXIoKGV2ZW50KSA9PiBldmVudC5pc0ZlYXR1cmVkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEV2ZW50QnlJZChpZCkge1xuICBjb25zdCBhbGxFdmVudHMgPSBhd2FpdCBnZXRBbGxFdmVudHMoKTtcbiAgcmV0dXJuIGFsbEV2ZW50cy5maW5kKChldmVudCkgPT4gZXZlbnQuaWQgPT09IGlkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZpbHRlcmVkRXZlbnRzKGRhdGVGaWx0ZXIpIHtcbiAgY29uc3QgeyB5ZWFyLCBtb250aCB9ID0gZGF0ZUZpbHRlcjtcblxuICBjb25zdCBhbGxFdmVudHMgPSBhd2FpdCBnZXRBbGxFdmVudHMoKTtcblxuICBsZXQgZmlsdGVyZWRFdmVudHMgPSBhbGxFdmVudHMuZmlsdGVyKChldmVudCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50RGF0ZSA9IG5ldyBEYXRlKGV2ZW50LmRhdGUpO1xuICAgIHJldHVybiBldmVudERhdGUuZ2V0RnVsbFllYXIoKSA9PT0geWVhciAmJiBldmVudERhdGUuZ2V0TW9udGgoKSA9PT0gbW9udGggLSAxO1xuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWRFdmVudHM7XG59Il0sIm5hbWVzIjpbImZzIiwiaGFzaCIsImNvbXBhcmUiLCJoYXNoUGFzc3dkIiwicGFzc3dvcmQiLCJoYXNoZWRQYXNzd2QiLCJ2ZXJpZnlQYXNzd2QiLCJwYXNzd2QiLCJpc1ZhbGlkIiwiZXh0cmFjdERhdGEiLCJmaWxlUGF0aCIsImZpbGVEYXRhIiwicmVhZEZpbGVTeW5jIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImdldEFsbEV2ZW50cyIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwiZXZlbnRzIiwia2V5IiwicHVzaCIsImlkIiwiZ2V0RmVhdHVyZWRFdmVudHMiLCJhbGxFdmVudHMiLCJmaWx0ZXIiLCJldmVudCIsImlzRmVhdHVyZWQiLCJnZXRFdmVudEJ5SWQiLCJmaW5kIiwiZ2V0RmlsdGVyZWRFdmVudHMiLCJkYXRlRmlsdGVyIiwieWVhciIsIm1vbnRoIiwiZmlsdGVyZWRFdmVudHMiLCJldmVudERhdGUiLCJEYXRlIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api-util.js\n");

/***/ }),

/***/ "(api)/./helpers/db-util.js":
/*!****************************!*\
  !*** ./helpers/db-util.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connectDatabase\": () => (/* binding */ connectDatabase),\n/* harmony export */   \"insertDocument\": () => (/* binding */ insertDocument),\n/* harmony export */   \"findComments\": () => (/* binding */ findComments)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function connectDatabase() {\n    const client = await mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient.connect(\"mongodb+srv://dallasking:Bunbuns2022@test.3r6zb.mongodb.net/cvma?retryWrites=true&w=majority\");\n    return client;\n}\nasync function insertDocument(client, collection, document) {\n    const db = client.db();\n    const result = await db.collection(collection).insertOne(document);\n    client.close();\n    return result;\n}\nasync function findComments(client, collection, sort, filter) {\n    const db = client.db();\n    const document = await db.collection(collection).find(filter).sort(sort).toArray();\n    return document;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2RiLXV0aWwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUM7QUFFOUIsZUFBZUMsZUFBZSxHQUFHLENBQUM7SUFDdkMsS0FBSyxDQUFDQyxNQUFNLEdBQUcsS0FBSyxDQUFDRix3REFBbUIsQ0FDdEMsQ0FBOEY7SUFFaEcsTUFBTSxDQUFDRSxNQUFNO0FBQ2YsQ0FBQztBQUVNLGVBQWVFLGNBQWMsQ0FBQ0YsTUFBTSxFQUFFRyxVQUFVLEVBQUVDLFFBQVEsRUFBRSxDQUFDO0lBQ2xFLEtBQUssQ0FBQ0MsRUFBRSxHQUFHTCxNQUFNLENBQUNLLEVBQUU7SUFDcEIsS0FBSyxDQUFDQyxNQUFNLEdBQUcsS0FBSyxDQUFDRCxFQUFFLENBQUNGLFVBQVUsQ0FBQ0EsVUFBVSxFQUFFSSxTQUFTLENBQUNILFFBQVE7SUFDakVKLE1BQU0sQ0FBQ1EsS0FBSztJQUNaLE1BQU0sQ0FBQ0YsTUFBTTtBQUNmLENBQUM7QUFFTSxlQUFlRyxZQUFZLENBQUNULE1BQU0sRUFBRUcsVUFBVSxFQUFFTyxJQUFJLEVBQUVDLE1BQU0sRUFBRSxDQUFDO0lBQ3BFLEtBQUssQ0FBQ04sRUFBRSxHQUFHTCxNQUFNLENBQUNLLEVBQUU7SUFDcEIsS0FBSyxDQUFDRCxRQUFRLEdBQUcsS0FBSyxDQUFDQyxFQUFFLENBQ3RCRixVQUFVLENBQUNBLFVBQVUsRUFDckJTLElBQUksQ0FBQ0QsTUFBTSxFQUNYRCxJQUFJLENBQUNBLElBQUksRUFDVEcsT0FBTztJQUVWLE1BQU0sQ0FBQ1QsUUFBUTtBQUNqQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLXJvdXRpbmctY291cnNlLy4vaGVscGVycy9kYi11dGlsLmpzP2Y1NzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tIFwibW9uZ29kYlwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdERhdGFiYXNlKCkge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KFxuICAgIFwibW9uZ29kYitzcnY6Ly9kYWxsYXNraW5nOkJ1bmJ1bnMyMDIyQHRlc3QuM3I2emIubW9uZ29kYi5uZXQvY3ZtYT9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlcIlxuICApO1xuICByZXR1cm4gY2xpZW50O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0RG9jdW1lbnQoY2xpZW50LCBjb2xsZWN0aW9uLCBkb2N1bWVudCkge1xuICBjb25zdCBkYiA9IGNsaWVudC5kYigpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb24pLmluc2VydE9uZShkb2N1bWVudCk7XG4gIGNsaWVudC5jbG9zZSgpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZENvbW1lbnRzKGNsaWVudCwgY29sbGVjdGlvbiwgc29ydCwgZmlsdGVyKSB7XG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgZGJcbiAgICAuY29sbGVjdGlvbihjb2xsZWN0aW9uKVxuICAgIC5maW5kKGZpbHRlcilcbiAgICAuc29ydChzb3J0KVxuICAgIC50b0FycmF5KCk7XG4gIFxuICByZXR1cm4gZG9jdW1lbnQ7XG59XG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJjb25uZWN0RGF0YWJhc2UiLCJjbGllbnQiLCJjb25uZWN0IiwiaW5zZXJ0RG9jdW1lbnQiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnQiLCJkYiIsInJlc3VsdCIsImluc2VydE9uZSIsImNsb3NlIiwiZmluZENvbW1lbnRzIiwic29ydCIsImZpbHRlciIsImZpbmQiLCJ0b0FycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./helpers/db-util.js\n");

/***/ }),

/***/ "(api)/./pages/api/login/reset.js":
/*!**********************************!*\
  !*** ./pages/api/login/reset.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helpers_db_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../helpers/db-util */ \"(api)/./helpers/db-util.js\");\n/* harmony import */ var _helpers_api_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../helpers/api-util */ \"(api)/./helpers/api-util.js\");\n\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const memberNumber = req.body.memberNumber;\n        const email = req.body.email;\n        const passwd = req.body.passwd;\n        const passwdVerify = req.body.passwdVerify;\n        const address = req.body.address;\n        //================================================================\n        console.log(memberNumber);\n        console.log(email);\n        console.log(passwd);\n        console.log(passwdVerify);\n        console.log(address);\n        //================================================================\n        if (memberNumber.includes(\"FM\") || memberNumber.includes(\"AUX\") || memberNumber.includes(\"S\") || memberNumber.includes(\"SAUX\")) {} else {\n            res.status(422).json({\n                message: \"Please use the member number prefix FM, AUX, S, SAUX\"\n            });\n        }\n        if (!email.includes(\"@\")) {\n            res.status(422).json({\n                message: 'Must be a valid email'\n            });\n        }\n        if (address.trim() === 0) {\n            res.status(422).json({\n                message: \"Please enter a valid address\"\n            });\n        }\n        if (passwd !== passwdVerify) {\n            res.status(422).json({\n                message: 'Passsword do not Match'\n            });\n        }\n        if (!passwd.length >= 8) {\n            res.status(422).json({\n                message: 'Password Must be at least 8 Charterters long'\n            });\n        }\n        const client = await (0,_helpers_db_util__WEBPACK_IMPORTED_MODULE_0__.connectDatabase)();\n        const database = client.db().collection('members');\n        const user = await database.findOne({\n            memberId: memberNumber\n        });\n        //do member validation on the email and the address \n        // to verify that they are users.\n        if (user === null) {\n            res.status(404).json({\n                message: 'Member does not exist'\n            });\n        }\n        if (user.password === null) {\n            res.status(422).json({\n                message: 'Password not set. Please register'\n            });\n        }\n        if (email.toLowerCase() !== user.email.toLowerCase()) {\n            res.status(422).json({\n                message: 'Email must match Account'\n            });\n        }\n        if (address.trim().toLowerCase() !== user.address.trim().toLowerCase()) {\n            res.status(422).json({\n                message: 'Address does not match Account'\n            });\n        }\n        const hashedPassword = await (0,_helpers_api_util__WEBPACK_IMPORTED_MODULE_1__.hashPasswd)(passwd);\n        await database.updateOne({\n            memberId: memberNumber\n        }, {\n            $set: {\n                password: hashedPassword\n            }\n        });\n        res.status(201).json({\n            message: 'Password updated'\n        });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtRQUFBLENBQUM7SUFDcEQsQ0FBQztBQUNILENBQUM7QUFFRCxpRUFBZWYsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLXJvdXRpbmctY291cnNlLy4vcGFnZXMvYXBpL2xvZ2luL3Jlc2V0LmpzPzMzZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdERhdGFiYXNlIH0gZnJvbSBcIi4uLy4uLy4uL2hlbHBlcnMvZGItdXRpbFwiO1xuaW1wb3J0IHsgaGFzaFBhc3N3ZCB9IGZyb20gXCIuLi8uLi8uLi9oZWxwZXJzL2FwaS11dGlsXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgY29uc3QgbWVtYmVyTnVtYmVyID0gcmVxLmJvZHkubWVtYmVyTnVtYmVyO1xuICAgIGNvbnN0IGVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gICAgY29uc3QgcGFzc3dkID0gcmVxLmJvZHkucGFzc3dkO1xuICAgIGNvbnN0IHBhc3N3ZFZlcmlmeSA9IHJlcS5ib2R5LnBhc3N3ZFZlcmlmeTtcbiAgICBjb25zdCBhZGRyZXNzID0gcmVxLmJvZHkuYWRkcmVzc1xuICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgY29uc29sZS5sb2cobWVtYmVyTnVtYmVyKTtcbiAgICBjb25zb2xlLmxvZyhlbWFpbClcbiAgICBjb25zb2xlLmxvZyhwYXNzd2QpO1xuICAgIGNvbnNvbGUubG9nKHBhc3N3ZFZlcmlmeSlcbiAgICBjb25zb2xlLmxvZyhhZGRyZXNzKVxuICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAoXG4gICAgICBtZW1iZXJOdW1iZXIuaW5jbHVkZXMoXCJGTVwiKSB8fFxuICAgICAgbWVtYmVyTnVtYmVyLmluY2x1ZGVzKFwiQVVYXCIpIHx8XG4gICAgICBtZW1iZXJOdW1iZXIuaW5jbHVkZXMoXCJTXCIpIHx8XG4gICAgICBtZW1iZXJOdW1iZXIuaW5jbHVkZXMoXCJTQVVYXCIpXG4gICAgKSB7fSBlbHNlIFxuICAgIHtcbiAgICAgIHJlcy5zdGF0dXMoNDIyKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSB1c2UgdGhlIG1lbWJlciBudW1iZXIgcHJlZml4IEZNLCBBVVgsIFMsIFNBVVhcIn0pXG4gICAgfVxuICBcbiAgICBpZiAoIWVtYWlsLmluY2x1ZGVzKFwiQFwiKSkge1xuICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe21lc3NhZ2U6ICdNdXN0IGJlIGEgdmFsaWQgZW1haWwnfSlcbiAgICB9XG4gICAgaWYgKGFkZHJlc3MudHJpbSgpID09PSAwKSB7XG4gICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgYWRkcmVzc1wifSlcbiAgICB9XG4gICAgaWYgKHBhc3N3ZCAhPT0gcGFzc3dkVmVyaWZ5KSB7XG4gICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe21lc3NhZ2U6J1Bhc3Nzd29yZCBkbyBub3QgTWF0Y2gnfSlcbiAgICB9XG4gICAgaWYgKCFwYXNzd2QubGVuZ3RoID49IDgpIHtcbiAgICByZXMuc3RhdHVzKDQyMikuanNvbih7bWVzc2FnZTonUGFzc3dvcmQgTXVzdCBiZSBhdCBsZWFzdCA4IENoYXJ0ZXJ0ZXJzIGxvbmcnfSlcbiAgICB9XG5cbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBjb25uZWN0RGF0YWJhc2UoKTtcblxuICAgIGNvbnN0IGRhdGFiYXNlID0gY2xpZW50LmRiKCkuY29sbGVjdGlvbignbWVtYmVycycpO1xuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGRhdGFiYXNlLmZpbmRPbmUoe21lbWJlcklkOiBtZW1iZXJOdW1iZXJ9KVxuXG4gICAgLy9kbyBtZW1iZXIgdmFsaWRhdGlvbiBvbiB0aGUgZW1haWwgYW5kIHRoZSBhZGRyZXNzIFxuICAgIC8vIHRvIHZlcmlmeSB0aGF0IHRoZXkgYXJlIHVzZXJzLlxuICAgIGlmICh1c2VyID09PSBudWxsKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiAnTWVtYmVyIGRvZXMgbm90IGV4aXN0J30pO1xuICAgIH1cblxuICAgIGlmKHVzZXIucGFzc3dvcmQgPT09IG51bGwpe1xuICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe21lc3NhZ2U6ICdQYXNzd29yZCBub3Qgc2V0LiBQbGVhc2UgcmVnaXN0ZXInfSlcbiAgICB9XG4gICAgaWYoZW1haWwudG9Mb3dlckNhc2UoKSAhPT0gdXNlci5lbWFpbC50b0xvd2VyQ2FzZSgpKXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe21lc3NhZ2U6ICdFbWFpbCBtdXN0IG1hdGNoIEFjY291bnQnfSlcbiAgICB9XG5cbiAgICBpZihhZGRyZXNzLnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSB1c2VyLmFkZHJlc3MudHJpbSgpLnRvTG93ZXJDYXNlKCkpe1xuICAgICAgICByZXMuc3RhdHVzKDQyMikuanNvbih7bWVzc2FnZTogJ0FkZHJlc3MgZG9lcyBub3QgbWF0Y2ggQWNjb3VudCd9KVxuICAgIH1cblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3ZChwYXNzd2QpO1xuXG4gICAgYXdhaXQgZGF0YWJhc2UudXBkYXRlT25lKHttZW1iZXJJZDogbWVtYmVyTnVtYmVyfSwgeyRzZXQ6IHtwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSlcblxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiAnUGFzc3dvcmQgdXBkYXRlZCd9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7Il0sIm5hbWVzIjpbImNvbm5lY3REYXRhYmFzZSIsImhhc2hQYXNzd2QiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwibWVtYmVyTnVtYmVyIiwiYm9keSIsImVtYWlsIiwicGFzc3dkIiwicGFzc3dkVmVyaWZ5IiwiYWRkcmVzcyIsImNvbnNvbGUiLCJsb2ciLCJpbmNsdWRlcyIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidHJpbSIsImxlbmd0aCIsImNsaWVudCIsImRhdGFiYXNlIiwiZGIiLCJjb2xsZWN0aW9uIiwidXNlciIsImZpbmRPbmUiLCJtZW1iZXJJZCIsInBhc3N3b3JkIiwidG9Mb3dlckNhc2UiLCJoYXNoZWRQYXNzd29yZCIsInVwZGF0ZU9uZSIsIiRzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/login/reset.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/login/reset.js"));
module.exports = __webpack_exports__;

})();